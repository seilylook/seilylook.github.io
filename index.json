[{"categories":["Projects"],"content":" CCTV 영상 데이터 품질 모니터링 시스템","date":"2025-05-10","objectID":"/cctv-quality-monitor/:0:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#cctv-영상-데이터-품질-모니터링-시스템"},{"categories":["Projects"],"content":" 프로젝트 개요CCTV 영상 데이터 품질 모니터링 시스템은 국가교통정보센터에서 제공하는 실시간 도로 CCTV 영상의 품질을 자동으로 모니터링하고 분석하는 시스템입니다. 이 시스템은 영상의 해상도, 프레임 손실, 밝기, 대비, 선명도 등 다양한 품질 지표를 실시간으로 측정하고, 문제가 있는 CCTV를 신속하게 식별하여 품질 관리를 효율화합니다. Kibana Dashboard Dashboard 1: 실시간 상태 확인 Dashboard 2: 품질 추세 시각화 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:1:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#프로젝트-개요"},{"categories":["Projects"],"content":" 주요 기능 실시간 CCTV 데이터 수집: 국가교통정보센터 API를 통해 실시간으로 CCTV 메타데이터 및 스트림 URL 수집 영상 품질 분석: OpenCV를 활용한 영상 품질 분석 (밝기, 대비, 블러, 프레임 손실율 등) 실시간 데이터 스트리밍: Kafka를 통한 실시간 품질 데이터 스트리밍 데이터 저장 및 시각화: Elasticsearch에 품질 데이터를 저장하고 Kibana를 통해 시각화 워크플로우 자동화: Airflow를 사용한 품질 점검 작업 자동화 알림 시스템: 품질 문제 발생 시 알림 기능 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:2:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#주요-기능"},{"categories":["Projects"],"content":" 백엔드 Python 3.9+: 주요 개발 언어 OpenCV: 영상 데이터 품질 분석 Apache Kafka: 실시간 데이터 스트리밍 Elasticsearch: 품질 데이터 저장 및 검색 Apache Airflow: 워크플로우 자동화 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:2:1","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#백엔드"},{"categories":["Projects"],"content":" 인프라 및 배포 Docker \u0026 Docker Compose: 컨테이너화 및 서비스 오케스트레이션 Makefile: 프로젝트 명령어 관리 Poetry: Python 의존성 관리 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:2:2","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#인프라-및-배포"},{"categories":["Projects"],"content":" 시각화 및 모니터링 Kibana: 대시보드 및 데이터 시각화 Kafka UI: Kafka 클러스터 모니터링 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:2:3","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#시각화-및-모니터링"},{"categories":["Projects"],"content":" 시스템 아키텍처시스템은 다음과 같은 주요 컴포넌트로 구성됩니다: 데이터 수집 모듈: 국가교통정보센터 API에서 CCTV 정보를 수집하고 Kafka에 전송 품질 분석 모듈: OpenCV를 사용하여 CCTV 스트림 품질을 분석 데이터 저장 모듈: 분석된 품질 데이터를 Elasticsearch에 저장 워크플로우 관리: Airflow로 전체 데이터 파이프라인 관리 시각화 모듈: Kibana 대시보드를 통한 품질 데이터 시각화 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:3:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#시스템-아키텍처"},{"categories":["Projects"],"content":" 구현 세부 사항","date":"2025-05-10","objectID":"/cctv-quality-monitor/:4:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#구현-세부-사항"},{"categories":["Projects"],"content":" 품질 측정 지표 밝기(Brightness): 영상의 평균 밝기 수준 대비(Contrast): 영상의 명암 대비 선명도(Sharpness): 영상의 선명도 지표 (라플라시안 분산) 프레임 손실율: 정지된 프레임 감지를 통한 프레임 손실률 프레임 레이트(FPS): 초당 프레임 수 해상도: 영상의 해상도 측정 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:4:1","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#품질-측정-지표"},{"categories":["Projects"],"content":" 데이터 파이프라인 text API 수집 → Kafka Producer → Kafka Topic → Kafka Consumer → 품질 분석 → Elasticsearch → Kibana 시각화 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:4:2","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#데이터-파이프라인"},{"categories":["Projects"],"content":" 대시보드 구성 실시간 상태 대시보드: 전체 CCTV 시스템의 현재 상태 표시 품질 추세 대시보드: 시간에 따른 품질 지표 변화 추세 위치 기반 대시보드: 지도 위에 CCTV 위치 및 상태 표시 문제 감지 대시보드: 품질 문제가 있는 CCTV 강조 표시 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:4:3","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#대시보드-구성"},{"categories":["Projects"],"content":" 설치 및 실행 방법","date":"2025-05-10","objectID":"/cctv-quality-monitor/:5:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#설치-및-실행-방법"},{"categories":["Projects"],"content":" 사전 요구사항 Docker 및 Docker Compose Python 3.9 이상 Poetry (Python 패키지 관리) 최소 8GB RAM 권장 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:5:1","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#사전-요구사항"},{"categories":["Projects"],"content":" 설치 과정 저장소 클론 bash git clone https://github.com/seilylook/CCTV_Quality_Monitor.git cd cctv-quality-monitoring 환경 변수 설정 bash cp .env.example .env # .env 파일을 편집하여 API 키 및 기타 설정을 구성하세요 프로젝트 설정 bash make setup 서비스 시작 bash make all ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:5:2","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#설치-과정"},{"categories":["Projects"],"content":" 웹 인터페이스 접속 Airflow: http://localhost:8080 (기본 계정: airflow/airflow) Kibana: http://localhost:5601 Kafka UI: http://localhost:8989 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:5:3","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#웹-인터페이스-접속"},{"categories":["Projects"],"content":" 프로젝트 구조 text cctv-quality-monitoring/ ├── .env.example # 환경 변수 예시 파일 ├── .gitignore # Git 무시 파일 목록 ├── Makefile # 프로젝트 명령어 관리 ├── README.md # 프로젝트 설명 ├── docker-compose.yml # 도커 컴포즈 설정 ├── pyproject.toml # Poetry 의존성 설정 ├── Dockerfile # 애플리케이션 도커 이미지 ├── Dockerfile.airflow # Airflow 커스텀 이미지 ├── airflow/ │ ├── dags/ │ │ └── cctv_quality_dag.py # Airflow DAG 정의 │ └── plugins/ │ └── operators/ │ └── cctv_operators.py ├── src/ │ ├── __init__.py │ ├── config.py # 설정 관리 │ ├── main.py # 메인 애플리케이션 │ ├── api/ │ │ ├── __init__.py │ │ └── cctv_api.py # CCTV API 클라이언트 │ ├── kafka/ │ │ ├── __init__.py │ │ ├── producer.py # Kafka 프로듀서 │ │ └── consumer.py # Kafka 컨슈머 │ ├── quality/ │ │ ├── __init__.py │ │ ├── analyzer.py # 영상 품질 분석 로직 │ │ └── metrics.py # 품질 메트릭 정의 │ └── storage/ │ ├── __init__.py │ └── elasticsearch.py # Elasticsearch 연동 └── tests/ ├── __init__.py ├── conftest.py # 테스트 설정 ├── test_api.py # API 테스트 └── test_analyzer.py # 분석기 테스트 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:6:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#프로젝트-구조"},{"categories":["Projects"],"content":" 개발 과정 및 도전 과제","date":"2025-05-10","objectID":"/cctv-quality-monitor/:7:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#개발-과정-및-도전-과제"},{"categories":["Projects"],"content":" 도전 과제 스트림 처리 안정성: HLS 스트림 형식의 다양한 CCTV URL을 안정적으로 처리하기 위한 예외 처리 및 재시도 로직 구현 실시간 처리 부하: 다수 CCTV 스트림의 동시 처리로 인한 시스템 부하 관리 OpenCV 호환성: Docker 환경에서 OpenCV 라이브러리 종속성 문제 해결 데이터 일관성: Kafka와 Elasticsearch 간 데이터 일관성 유지 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:7:1","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#도전-과제"},{"categories":["Projects"],"content":" 해결 방법 견고한 에러 처리 및 로깅 시스템 구현 컨테이너 자원 할당 최적화 및 배치 처리 도입 커스텀 Docker 이미지를 통한 시스템 라이브러리 관리 데이터 스키마 정의 및 검증 로직 구현 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:7:2","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#해결-방법"},{"categories":["Projects"],"content":" 시스템 성능 처리 용량: 시간당 최대 500개 CCTV 스트림 처리 응답 시간: 품질 이슈 감지 시 평균 1분 이내 알림 정확도: 영상 품질 문제 감지 정확도 95% 이상 가용성: 99.9% 시스템 가동 시간 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:8:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#시스템-성능"},{"categories":["Projects"],"content":" 미래 개선 사항 딥러닝 모델 통합: 영상 품질 분석을 위한 딥러닝 모델 도입 이상치 탐지 개선: 시계열 데이터 기반 고급 이상치 탐지 알고리즘 구현 클라우드 환경 최적화: AWS, Azure 또는 GCP 환경에 최적화된 배포 구성 모바일 알림 시스템: 모바일 애플리케이션을 통한 실시간 알림 시스템 구현 ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:9:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#미래-개선-사항"},{"categories":["Projects"],"content":" 결론CCTV 영상 데이터 품질 모니터링 시스템은 대규모 CCTV 네트워크의 품질을 효율적으로 모니터링하고 관리할 수 있는 확장 가능한 솔루션입니다. 실시간 데이터 처리, 고급 영상 분석, 직관적인 시각화를 통해 CCTV 관리자가 품질 문제를 신속하게 식별하고 대응할 수 있습니다. 이 프로젝트는 빅데이터 처리, 영상 분석, 분산 시스템 설계 등의 기술을 실무에 적용한 사례로, 대규모 데이터 파이프라인 구축과 실시간 모니터링 시스템 개발 역량을 보여줍니다. ","date":"2025-05-10","objectID":"/cctv-quality-monitor/:10:0","series":null,"tags":["Streaming"],"title":"CCTV Quality Monitor","uri":"/cctv-quality-monitor/#결론"},{"categories":["Technology"],"content":" Poetry로 Python 프로젝트 환경 설정하기Python 프로젝트를 만들 때 의존성 관리와 가상환경 설정이 번거로운 경우가 많습니다. Poetry는 이러한 작업을 깔끔하게 정리해주는 툴로, 패키지 관리와 프로젝트 배포까지 도와주는 훌륭한 도구입니다. 아래는 프로젝트에서 Poetry를 설정하는 방법을 정리한 내용입니다. ","date":"2025-05-07","objectID":"/poetry/:1:0","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#poetry로-python-프로젝트-환경-설정하기"},{"categories":["Technology"],"content":" 1. 프로젝트 초기화Poetry를 사용해 프로젝트를 초기화하려면 아래 명령어를 입력합니다. bash 🔥 poetry init 명령어를 실행하면 pyproject.toml 파일을 생성하며, 의존성 등을 직접 입력하거나 생략할 수 있습니다. ","date":"2025-05-07","objectID":"/poetry/:1:1","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#1-프로젝트-초기화"},{"categories":["Technology"],"content":" 2. 가상환경을 프로젝트 내부에 생성하기Poetry는 기본적으로 프로젝트 외부에 가상환경을 생성합니다. 하지만 프로젝트 폴더 내부에 .venv로 가상환경을 만들고 싶다면 다음 설정을 추가합니다. bash 🔥 poetry config virtualenvs.in-project true 이 설정을 해두면, 프로젝트 루트 디렉토리에 .venv/ 폴더가 생성됩니다. ","date":"2025-05-07","objectID":"/poetry/:1:2","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#2-가상환경을-프로젝트-내부에-생성하기"},{"categories":["Technology"],"content":" 3. pyenv와 함께 사용하는 경우: Python 버전 지정pyenv를 사용 중이라면, 현재 선택된 Python 버전을 Poetry에 적용할 수 있습니다. bash 🔥 poetry env use $(pyenv which python) 이 명령어는 pyenv가 가리키는 Python 버전을 현재 프로젝트에 설정해줍니다. ","date":"2025-05-07","objectID":"/poetry/:1:3","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#3-pyenv와-함께-사용하는-경우-python-버전-지정"},{"categories":["Technology"],"content":" 4. 가상환경 정보 확인현재 프로젝트에서 사용 중인 가상환경의 경로나 정보를 확인하고 싶다면 다음 명령어를 실행합니다. bash 🔥 poetry env info ","date":"2025-05-07","objectID":"/poetry/:1:4","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#4-가상환경-정보-확인"},{"categories":["Technology"],"content":" 5. VS Code에서 가상환경 Python 경로 설정VS Code에서 Poetry의 가상환경을 Python 인터프리터로 설정하려면: Cmd + Shift + P 를 눌러 명령 팔레트를 열고 Python: 인터프리터 선택을 검색 사용자 정의 경로 입력 옵션을 선택한 후 다음 경로를 입력합니다: text /Users/seilylook/Development/Projects/traffic-congestion-monitoring/.venv/bin/python ","date":"2025-05-07","objectID":"/poetry/:1:5","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#5-vs-code에서-가상환경-python-경로-설정"},{"categories":["Technology"],"content":" 6. requirements.txt 파일로 의존성 내보내기배포나 서버 설정 시 requirements.txt 파일이 필요한 경우가 많은데, Poetry에서는 플러그인을 사용해 이를 쉽게 생성할 수 있습니다. 먼저 pyproject.toml에 다음 설정을 추가합니다: toml [tool.poetry.plugins.\"poetry.plugin\"] \"export\" = \"poetry_plugin_export.plugin:ExportPlugin\" 혹은 Poetry 1.8 이상에서는 아래처럼 명령어로 설정할 수 있습니다: toml [tool.poetry.requires-plugins] poetry-plugin-export = \"\u003e=1.8\" 이후 아래 명령어로 requirements.txt 파일을 생성할 수 있습니다: bash 🔥 poetry export -f requirements.txt --output requirements.txt ","date":"2025-05-07","objectID":"/poetry/:1:6","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#6-requirementstxt-파일로-의존성-내보내기"},{"categories":["Technology"],"content":" 7. 의존성 설치pyproject.toml에 정의된 의존성들을 설치하려면 아래 명령어를 사용합니다: bash 🔥 poetry install ","date":"2025-05-07","objectID":"/poetry/:1:7","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#7-의존성-설치"},{"categories":["Technology"],"content":" 마무리이제 Poetry를 활용하여 깔끔하고 안정적인 Python 개발 환경을 구축할 수 있습니다. 프로젝트마다 반복되는 설정을 자동화하고, 코드 배포나 협업 시에도 환경 차이로 인한 이슈를 줄일 수 있습니다. ","date":"2025-05-07","objectID":"/poetry/:2:0","series":null,"tags":["Environment"],"title":"Poetry","uri":"/poetry/#마무리"},{"categories":["Technology"],"content":" HLS(HTTP Live Streaming)","date":"2025-04-30","objectID":"/hls/:0:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#hlshttp-live-streaming"},{"categories":["Technology"],"content":" ✅ HLS란? HTTP 기반의 비디오 스트리밍 프로토콜로, 애플에서 개발했고 현재 가장 널리 사용돼요. 라이브라는 이름이 있지만 VOD(주문형) 과 라이브 스트리밍 둘 다 지원합니다. 비디오 파일을 잘게 조각(세그먼트) 내서 HTTP로 전송하고, 클라이언트가 조각들을 받아서 순서대로 재생합니다. ","date":"2025-04-30","objectID":"/hls/:1:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-hls란"},{"categories":["Technology"],"content":" ✅ 왜 많이 쓰이나요? HTTP 기반이라 웹 서버로 쉽게 배포 가능 (추가 장비 불필요) 모든 디바이스에서 재생 가능 (모바일, 데스크탑 등) 네트워크 상황에 따라 자동으로 화질 조절 (적응 비트 전송률) ","date":"2025-04-30","objectID":"/hls/:2:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-왜-많이-쓰이나요"},{"categories":["Technology"],"content":" ✅ 어떻게 작동하나요?","date":"2025-04-30","objectID":"/hls/:3:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-어떻게-작동하나요"},{"categories":["Technology"],"content":" 1. 서버 측 작업 인코딩: 다양한 디바이스에서 재생 가능한 포맷(H.264/H.265)으로 변환 세그먼트 분할: 비디오를 6초 정도 길이로 쪼갬 인덱스 파일 생성: 어떤 순서로 세그먼트를 불러올지 기록 여러 화질로 복제: 예) 480p, 720p, 1080p → 적응 비트 전송률용 ","date":"2025-04-30","objectID":"/hls/:3:1","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#1-서버-측-작업"},{"categories":["Technology"],"content":" 2. 배포 보통 CDN이 중간에서 빠르게 전달하고 캐시도 담당 ","date":"2025-04-30","objectID":"/hls/:3:2","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#2-배포"},{"categories":["Technology"],"content":" 3. 클라이언트 인덱스 파일을 보고 세그먼트를 순서대로 요청해서 재생 네트워크에 따라 자동으로 품질 조절 ","date":"2025-04-30","objectID":"/hls/:3:3","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#3-클라이언트"},{"categories":["Technology"],"content":" ✅ 적응 비트 전송률이 뭐예요? 네트워크 상태에 따라 스트리밍 화질을 실시간 조절하는 기능입니다. 느려지면 저화질로 자동 전환해서 끊기지 않게 하고, 좋아지면 고화질로 자동 업그레이드해줍니다. HLS가 미리 다양한 화질로 세그먼트를 만들어 두기 때문에 가능해요. ","date":"2025-04-30","objectID":"/hls/:4:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-적응-비트-전송률이-뭐예요"},{"categories":["Technology"],"content":" ✅ TCP vs UDP? 왜 HLS는 TCP 써요? 대부분의 스트리밍 프로토콜은 빠른 전송을 위해 UDP를 쓰는데, HLS는 신뢰성 있는 전송이 더 중요해서 TCP를 사용합니다. ","date":"2025-04-30","objectID":"/hls/:5:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-tcp-vs-udp-왜-hls는-tcp-써요"},{"categories":["Technology"],"content":" 이유: HTTP = TCP 기반이라 자연스럽게 따라감 실시간성이 아주 중요하지 않음 (몇 초 지연돼도 괜찮음) 인터넷 환경이 좋아져서 TCP 속도도 충분함 적응 비트 전송률이 끊김을 완화해줌 ","date":"2025-04-30","objectID":"/hls/:5:1","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#이유"},{"categories":["Technology"],"content":" 🔁 정리HLS는 HTTP 기반 스트리밍 프로토콜로, 비디오를 몇 초 단위로 쪼개서 전송하는 방식입니다. 모든 디바이스와 서버에서 HTTP를 쓰기 때문에 호환성과 배포가 좋고, 적응 비트 전송률 기능으로 네트워크 상태에 따라 자동 화질 조절이 가능합니다. 다른 프로토콜은 속도 때문에 UDP를 쓰지만, HLS는 HTTP 기반이라 TCP를 사용하고, 실시간성이 아주 중요하지 않기 때문에 문제가 되지 않습니다. ","date":"2025-04-30","objectID":"/hls/:6:0","series":null,"tags":["Streaming"],"title":"HLS(HTTP Live Streaming)","uri":"/hls/#-정리"}]